        <div class="container">
            <h2 class="rec-pro">Our Products</h2>

            <?php if (empty($products)): ?>
                <p>No products available.</p>
            <?php else: ?>
            <div class="custom-dropdown">
                <button class="dropdown-btn" id="filter-button">
                    <span>Filter Products</span>
                    <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg" style="transition: transform 0.3s ease;">
                        <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>

                <div id="dropdown-content" class="dropdown-content">
                    <!--  Фильтр по категории -->
                    <div class="filter-section">
                        <div class="filter-title">Category</div>
                        <div class="dropdown-item" data-category="">
                            All Categories
                        </div>

                        <?php
                        $categories = array_unique(array_column($products, 'category'));
                        foreach ($categories as $cat):
                        ?>
                        <div class="dropdown-item" data-category="<?= htmlspecialchars($cat) ?>">
                            <?= htmlspecialchars($cat) ?>
                        </div>
                        <?php endforeach; ?>
                    </div>
                    <!-- Фильтр по цене -->
                    <div class="filter-section">
                        <div class="filter-title">Price Sort</div>
                        <div class="dropdown-item" data-price-sort="default">
                            Default Order
                        </div>
                        <div class="dropdown-item" data-price-sort="low-high">
                            Price: Low to High
                        </div>
                        <div class="dropdown-item" data-price-sort="high-low">
                            Price: High to Low
                        </div>
                    </div>

                    <!--  Фильтр по названию -->
                    <div class="filter-section">
                        <div class="filter-title">Name Filter</div>
                        <input type="text" id="name-filter-input" placeholder="Search by name...">
                    </div>
                </div>
            </div>
            <div id="products-container" class="card-grid">
                <?php foreach ($products as $product): ?>
                <div class="product-card"
                     data-category="<?= htmlspecialchars($product['category']) ?>">
                    <img src="<?= htmlspecialchars($product['image']) ?>"
                         alt="<?= htmlspecialchars($product['name']) ?>"
                         width="100%"
                         class="card-image" <?= $product['stock_quantity'] <= 0 ? 'unavailable-blur' : '' ?>">
                    <?php if ($product['stock_quantity'] <= 0): ?>
                        <div class="not-available-overlay">Not available now</div>
                    <?php endif; ?>
                    <h3 class="card-title"><?= htmlspecialchars($product['name']) ?></h3>
                    <p class="card-text"><?= htmlspecialchars($product['description']) ?></p>
                    <p class="card-text"><strong>$<?= number_format($product['price'], 2) ?></strong></p>
                    <?php if (isset($_SESSION['user_id']) && $product['stock_quantity'] > 0): ?>
                        <button class="card-btn add-to-cart-btn" data-id="<?= $product['id'] ?>">Add to Cart</button>
                    <?php endif; ?>
                </div>
                <?php endforeach; ?>
            </div>
            <?php endif; ?>
        </div>