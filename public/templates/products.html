        <div class="container">
            <h2>Our Products</h2>

            <?php if (empty($products)): ?>
            <p>No products available.</p>
            <?php else: ?>
            <!-- ✅ Кастомное выпадающее меню с категориями -->
            <div class="custom-dropdown" style="position: relative; display: inline-block; margin-bottom: 20px;">
                <button class="dropdown-btn" onclick="toggleDropdown()" style="
                                background: linear-gradient(135deg, #6e8efb 0%, #a777e3 100%);
                                color: white;
                                padding: 12px 20px;
                                border: none;
                                border-radius: 30px;
                                cursor: pointer;
                                font-size: 16px;
                                display: flex;
                                align-items: center;
                                gap: 10px;
                                box-shadow: 0 4px 15px rgba(110, 142, 251, 0.3);
                                transition: all 0.3s ease;
                            ">
                    <span>Filter by Category</span>
                    <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg" style="transition: transform 0.3s ease;">
                        <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>

                <div id="dropdown-content" class="dropdown-content" style="
                                position: absolute;
                                background: white;
                                min-width: 200px;
                                box-shadow: 0 8px 25px rgba(0,0,0,0.15);
                                border-radius: 12px;
                                z-index: 1000;
                                display: none;
                                margin-top: 8px;
                                overflow: hidden;
                                border: 1px solid #eee;
                            ">
                    <div class="dropdown-item" onclick="selectCategory('')" style="
                                    padding: 12px 16px;
                                    cursor: pointer;
                                    transition: background 0.2s;
                                    border-bottom: 1px solid #f0f0f0;
                                ">
                        All Categories
                    </div>

                    <?php
                    $categories = array_unique(array_column($products, 'category'));
                    foreach ($categories as $cat):
                    ?>
                    <div class="dropdown-item" onclick="selectCategory('<?= addslashes(htmlspecialchars($cat)) ?>')" style="
                                        padding: 12px 16px;
                                        cursor: pointer;
                                        transition: background 0.2s;
                                        border-bottom: 1px solid #f0f0f0;
                                    ">
                        <?= htmlspecialchars($cat) ?>
                    </div>
                    <?php endforeach; ?>
                </div>
            </div>
            <div id="products-container" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                <?php foreach ($products as $product): ?>
                <div class="product-card"
                     data-category="<?= htmlspecialchars($product['category']) ?>"
                     style="border: 1px solid #eee; border-radius: 8px; padding: 15px; background: white; text-align: center;">
                    <img src="<?= htmlspecialchars($product['image']) ?>" alt="<?= htmlspecialchars($product['name']) ?>" width="100%" style="border-radius: 6px; margin-bottom: 10px;">

                    <h3 style="margin: 10px 0; font-size: 18px;"><?= htmlspecialchars($product['name']) ?></h3>

                    <p style="color: #666; margin: 5px 0; font-size: 14px;"><?= htmlspecialchars($product['category']) ?></p>

                    <p style="color: #666; margin: 5px 0;"><?= htmlspecialchars($product['description']) ?></p>

                    <p style="font-weight: bold; margin: 10px 0; font-size: 16px;">$<?= number_format($product['price'], 2) ?></p>

                    <p style="color: #999; margin: 5px 0;">Stock: <?= (int)$product['stock_quantity'] ?></p>

                    <button class="btn btn-primary add-to-cart-btn"
                            data-id="<?= $product['id'] ?>"
                            data-quantity="1"
                            style="margin-top: 10px;"
                                            <?= $product['stock_quantity'] <= 0 ? 'disabled' : '' ?>>
                                        <?= $product['stock_quantity'] <= 0 ? 'Out of Stock' : 'Add to Cart' ?>
                                    </button>
                </div>
                <?php endforeach; ?>
            </div>
            <?php endif; ?>
        </div>